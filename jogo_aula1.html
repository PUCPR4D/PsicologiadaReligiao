<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Relacionar Autores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f7f7f7;
            /* Padding reduzido */
            padding: 1rem; 
        }
        /* Estilos de compacta√ß√£o */
        .draggable-item {
            cursor: grab;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            min-height: 3rem; /* Altura m√≠nima reduzida */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .drop-zone {
            transition: background-color 0.2s ease;
            border: 2px dashed #d1d5db;
        }
        .drop-zone.drag-over {
            background-color: #fef3c7; 
            border-color: #f59e0b; 
        }
        .correct {
            background-color: #d1fae5 !important; 
            border-color: #059669 !important; 
            cursor: default !important;
        }
        .incorrect {
            background-color: #fee2e2 !important; 
            border-color: #ef4444 !important; 
        }
    </style>
</head>

<body class="p-4">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-2xl font-bold mb-4 text-gray-800 text-center">üß† Jogo de Relacionar Autores e Ideias-Chave</h1>
        
        <div id="game-container" class="bg-white p-4 rounded-lg shadow-xl border border-gray-200 max-h-[90vh] flex flex-col">
            
            <div class="flex flex-col lg:flex-row gap-6 overflow-hidden flex-grow">
                
                <div class="lg:w-1/2 flex flex-col min-h-0">
                    <h2 class="text-lg font-semibold text-indigo-700 border-b pb-1 mb-2">Autores</h2>
                    <div id="author-column" class="flex flex-col space-y-2 overflow-y-auto pr-1"> 
                         </div>
                </div>

                <div class="lg:w-1/2 flex flex-col min-h-0">
                    <h2 class="text-lg font-semibold text-indigo-700 border-b pb-1 mb-2">Ideias-Chave (Arraste e Solte)</h2>
                    <div id="ideas-column" class="grid grid-cols-1 sm:grid-cols-2 gap-2 overflow-y-auto pr-1">
                        </div>
                </div>

            </div>
            
            <div class="text-center mt-4 flex-shrink-0">
                <button onclick="checkAnswers()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 shadow-md text-sm">
                    Verificar Respostas
                </button>
                <p id="result-message" class="text-base font-semibold mt-2"></p>
                <button onclick="resetGame()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-4 rounded-lg transition duration-300 mt-2 text-sm">
                    Reiniciar Jogo
                </button>
            </div>
        </div>
    </div>

    <script>
        const data = [
            { id: 1, author: "William James", idea: "Religi√£o transforma a vida; vivida de forma concreta e subjetiva." },
            { id: 2, author: "Sigmund Freud", idea: "Religi√£o como ilus√£o; al√≠vio ps√≠quico, mas mant√©m depend√™ncia." },
            { id: 3, author: "Carl Gustav Jung", idea: "S√≠mbolos religiosos expressam o inconsciente; ajudam a criar sentido." },
            { id: 4, author: "Rudolf Otto", idea: "Experi√™ncia do sagrado √© misteriosa, fascinante e aterrorizante." },
            { id: 5, author: "Mircea Eliade", idea: "O sagrado organiza cultura, tempo e identidade; vis√≠vel em ritos e mitos." },
            { id: 6, author: "Viktor Frankl", idea: "Espiritualidade como for√ßa de sentido; ajuda a enfrentar sofrimento." },
            { id: 7, author: "Jean Piaget", idea: "Religiosidade evolui: da viv√™ncia concreta infantil √† compreens√£o simb√≥lica adolescente." },
            { id: 8, author: "Gordon Allport", idea: "Religiosidade intr√≠nseca (aut√™ntica) vs. extr√≠nseca (instrumental)." },
            { id: 9, author: "Geraldo Paiva", idea: "Psicologia da Religi√£o no Brasil: campo interdisciplinar; considera pluralidade cultural e contexto social." },
            { id: 10, author: "Mauro Amatuzzi", idea: "Religi√£o acompanha o desenvolvimento humano; muda ao longo da vida." }
        ];

        let correctMatches = 0;
        const totalItems = data.length;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Fun√ß√µes de Drag and Drop ---

        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.id);
            e.target.classList.add('opacity-40');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('opacity-40');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.target.classList.contains('drag-over')) {
                e.target.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            const draggedId = e.dataTransfer.getData('text/plain');
            const targetId = e.target.dataset.id;
            const draggedElement = document.querySelector(`[data-id='${draggedId}'].draggable-item`);

            if (!e.target.classList.contains('drop-zone') || e.target.dataset.match || draggedElement.dataset.matched === 'true') {
                 return;
            }

            if (draggedId === targetId) {
                // Correto
                e.target.innerHTML = draggedElement.innerHTML;
                e.target.classList.add('correct');
                e.target.classList.remove('drop-zone', 'bg-gray-50', 'border-dashed');
                
                draggedElement.style.display = 'none';
                draggedElement.dataset.matched = 'true';
                e.target.dataset.match = 'true';
                correctMatches++;
            } else {
                // Incorreto
                e.target.classList.add('incorrect');
                setTimeout(() => {
                    e.target.classList.remove('incorrect');
                }, 800);
            }
        }

        // --- Configura√ß√£o do Jogo ---

        function setupGame() {
            const authors = document.getElementById('author-column');
            const ideas = document.getElementById('ideas-column');
            authors.innerHTML = '';
            ideas.innerHTML = '';
            correctMatches = 0;
            document.getElementById('result-message').textContent = '';

            const shuffledIdeas = shuffle([...data]);

            // 2. Montar a coluna de Autores (Drop Zones)
            data.forEach(item => {
                const authorDiv = document.createElement('div');
                // Padding reduzido: p-2
                authorDiv.classList.add('bg-white', 'p-2', 'rounded-lg', 'shadow-md', 'flex', 'items-center', 'space-x-3', 'border');
                
                // Coluna do Autor
                const authorName = document.createElement('div');
                // Fonte reduzida: text-sm
                authorName.classList.add('w-1/3', 'font-semibold', 'text-gray-900', 'text-sm');
                authorName.textContent = item.author;
                
                // Coluna da Ideia (Drop Zone)
                const dropZone = document.createElement('div');
                // Padding e fonte reduzidos: p-3, min-h-[3rem], text-xs
                dropZone.classList.add('w-2/3', 'drop-zone', 'bg-gray-50', 'p-3', 'rounded-md', 'text-gray-600', 'text-xs', 'min-h-[3rem]', 'flex', 'items-center', 'justify-center', 'text-center');
                dropZone.dataset.id = item.id;
                dropZone.textContent = 'Arraste a Ideia-Chave para c√°';
                
                dropZone.addEventListener('dragover', handleDragOver);
                dropZone.addEventListener('dragenter', handleDragEnter);
                dropZone.addEventListener('dragleave', handleDragLeave);
                dropZone.addEventListener('drop', handleDrop);

                authorDiv.appendChild(authorName);
                authorDiv.appendChild(dropZone);
                authors.appendChild(authorDiv);
            });

            // 3. Montar as Ideias-Chave (Draggable Items)
            shuffledIdeas.forEach(item => {
                const ideaDiv = document.createElement('div');
                // Padding e fonte reduzidos: p-3, text-xs
                ideaDiv.classList.add('draggable-item', 'bg-yellow-100', 'hover:bg-yellow-200', 'p-3', 'rounded-md', 'text-gray-800', 'text-xs', 'font-medium', 'border', 'border-yellow-300', 'text-center');
                ideaDiv.setAttribute('draggable', true);
                ideaDiv.dataset.id = item.id;
                ideaDiv.dataset.matched = 'false';
                ideaDiv.textContent = item.idea;
                
                ideaDiv.addEventListener('dragstart', handleDragStart);
                ideaDiv.addEventListener('dragend', handleDragEnd);

                ideas.appendChild(ideaDiv);
            });
        }

        function checkAnswers() {
            let message;
            if (correctMatches === totalItems) {
                message = `üéâ Parab√©ns! Voc√™ acertou todas as ${totalItems} correspond√™ncias!`;
                document.getElementById('result-message').classList.remove('text-red-600', 'text-blue-600');
                document.getElementById('result-message').classList.add('text-green-600');
            } else {
                message = `üßê Voc√™ acertou ${correctMatches} de ${totalItems}. Continue tentando!`;
                document.getElementById('result-message').classList.remove('text-green-600', 'text-blue-600');
                document.getElementById('result-message').classList.add('text-red-600');
            }
            document.getElementById('result-message').textContent = message;
        }

        function resetGame() {
            const ideasColumn = document.getElementById('ideas-column');
            const authorsColumn = document.getElementById('author-column');
            
            while (ideasColumn.firstChild) ideasColumn.removeChild(ideasColumn.firstChild);
            while (authorsColumn.firstChild) authorsColumn.removeChild(authorsColumn.firstChild);

            setupGame();
        }

        // Inicializa o jogo ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', setupGame);
    </script>
</body>
</html>
