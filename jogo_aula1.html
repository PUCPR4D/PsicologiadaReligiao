<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Relacionar Autores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f7f7f7;
        }
        /* Estilos b√°sicos para o item arrast√°vel */
        .draggable-item {
            cursor: grab;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            min-height: 4rem; /* Garante que o item seja f√°cil de clicar/arrastar */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Estilo para a zona de destino (drop zone) */
        .drop-zone {
            transition: background-color 0.2s ease;
            border: 2px dashed #d1d5db;
        }
        /* Efeitos ao arrastar sobre a zona */
        .drop-zone.drag-over {
            background-color: #fef3c7; /* Amarelo suave */
            border-color: #f59e0b; /* Amarelo */
        }
        /* Estilos de feedback */
        .correct {
            background-color: #d1fae5 !important; /* Verde claro */
            border-color: #059669 !important; /* Verde escuro */
            cursor: default !important;
        }
        .incorrect {
            background-color: #fee2e2 !important; /* Vermelho claro */
            border-color: #ef4444 !important; /* Vermelho escuro */
        }
    </style>
</head>

<body class="p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-8 text-gray-800 text-center">üß† Jogo de Relacionar Autores e Ideias-Chave</h1>
        
        <div id="game-container" class="bg-white p-6 rounded-lg shadow-xl border border-gray-200">
            
            <div class="flex flex-col lg:flex-row gap-8 mb-8">
                
                <div class="lg:w-1/2 flex flex-col space-y-3">
                    <h2 class="text-xl font-semibold text-indigo-700 border-b pb-2">Autores</h2>
                    <div id="author-column">
                         </div>
                </div>

                <div class="lg:w-1/2">
                    <h2 class="text-xl font-semibold text-indigo-700 border-b pb-2 mb-4">Ideias-Chave (Arraste e Solte)</h2>
                    <div id="ideas-column" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        </div>
                </div>

            </div>
            
            <div class="text-center mt-6">
                <button onclick="checkAnswers()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 shadow-md">
                    Verificar Respostas
                </button>
                <p id="result-message" class="text-lg font-semibold mt-4"></p>
                <button onclick="resetGame()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition duration-300 mt-2">
                    Reiniciar Jogo
                </button>
            </div>
        </div>
    </div>

    <script>
        const data = [
            { id: 1, author: "William James", idea: "Religi√£o transforma a vida; vivida de forma concreta e subjetiva." },
            { id: 2, author: "Sigmund Freud", idea: "Religi√£o como ilus√£o; al√≠vio ps√≠quico, mas mant√©m depend√™ncia." },
            { id: 3, author: "Carl Gustav Jung", idea: "S√≠mbolos religiosos expressam o inconsciente; ajudam a criar sentido." },
            { id: 4, author: "Rudolf Otto", idea: "Experi√™ncia do sagrado √© misteriosa, fascinante e aterrorizante." },
            { id: 5, author: "Mircea Eliade", idea: "O sagrado organiza cultura, tempo e identidade; vis√≠vel em ritos e mitos." },
            { id: 6, author: "Viktor Frankl", idea: "Espiritualidade como for√ßa de sentido; ajuda a enfrentar sofrimento." },
            { id: 7, author: "Jean Piaget", idea: "Religiosidade evolui: da viv√™ncia concreta infantil √† compreens√£o simb√≥lica adolescente." },
            { id: 8, author: "Gordon Allport", idea: "Religiosidade intr√≠nseca (aut√™ntica) vs. extr√≠nseca (instrumental)." },
            { id: 9, author: "Geraldo Paiva", idea: "Psicologia da Religi√£o no Brasil: campo interdisciplinar; considera pluralidade cultural e contexto social." },
            { id: 10, author: "Mauro Amatuzzi", idea: "Religi√£o acompanha o desenvolvimento humano; muda ao longo da vida." }
        ];

        let correctMatches = 0;
        const totalItems = data.length;

        // Fun√ß√£o para embaralhar um array (Fisher-Yates)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Fun√ß√µes de Drag and Drop ---

        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.id);
            e.target.classList.add('opacity-40');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('opacity-40');
        }

        function handleDragOver(e) {
            e.preventDefault(); // Necess√°rio para permitir o drop
        }

        function handleDragEnter(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.target.classList.contains('drag-over')) {
                e.target.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            const draggedId = e.dataTransfer.getData('text/plain');
            const targetId = e.target.dataset.id;
            const draggedElement = document.querySelector(`[data-id='${draggedId}'].draggable-item`);

            // Evita soltar a ideia em outra ideia ou fora da zona de destino
            if (!e.target.classList.contains('drop-zone') || e.target.dataset.match) {
                 return;
            }

            // Se a ideia arrastada j√° foi usada, evita soltar
            if (draggedElement.dataset.matched === 'true') {
                return;
            }

            // Se o ID da ideia arrastada for igual ao ID da zona de destino
            if (draggedId === targetId) {
                // Correspond√™ncia Correta
                e.target.innerHTML = draggedElement.innerHTML;
                e.target.classList.add('correct');
                e.target.classList.remove('drop-zone', 'bg-gray-50', 'border-dashed');
                
                draggedElement.style.display = 'none'; // Esconde a ideia arrastada
                draggedElement.dataset.matched = 'true';
                e.target.dataset.match = 'true'; // Marca a zona como preenchida
                correctMatches++;
            } else {
                // Correspond√™ncia Incorreta (Feedback visual tempor√°rio)
                e.target.classList.add('incorrect');
                setTimeout(() => {
                    e.target.classList.remove('incorrect');
                }, 800);
            }
        }

        // --- Configura√ß√£o do Jogo ---

        function setupGame() {
            const authors = document.getElementById('author-column');
            const ideas = document.getElementById('ideas-column');
            authors.innerHTML = '';
            ideas.innerHTML = '';
            correctMatches = 0;
            document.getElementById('result-message').textContent = '';

            // 1. Criar e embaralhar as ideias
            const shuffledIdeas = shuffle([...data]);

            // 2. Montar a coluna de Autores (Drop Zones)
            data.forEach(item => {
                const authorDiv = document.createElement('div');
                authorDiv.classList.add('bg-white', 'p-3', 'rounded-lg', 'shadow-md', 'flex', 'items-center', 'space-x-4', 'border');
                
                // Coluna do Autor
                const authorName = document.createElement('div');
                authorName.classList.add('w-1/3', 'font-semibold', 'text-gray-900', 'text-base');
                authorName.textContent = item.author;
                
                // Coluna da Ideia (Drop Zone)
                const dropZone = document.createElement('div');
                dropZone.classList.add('w-2/3', 'drop-zone', 'bg-gray-50', 'p-4', 'rounded-md', 'text-gray-600', 'text-sm', 'min-h-[4rem]', 'flex', 'items-center', 'justify-center', 'text-center');
                dropZone.dataset.id = item.id;
                dropZone.textContent = 'Arraste a Ideia-Chave para c√°';
                
                // Adicionar listeners ao Drop Zone
                dropZone.addEventListener('dragover', handleDragOver);
                dropZone.addEventListener('dragenter', handleDragEnter);
                dropZone.addEventListener('dragleave', handleDragLeave);
                dropZone.addEventListener('drop', handleDrop);

                authorDiv.appendChild(authorName);
                authorDiv.appendChild(dropZone);
                authors.appendChild(authorDiv);
            });

            // 3. Montar as Ideias-Chave (Draggable Items)
            shuffledIdeas.forEach(item => {
                const ideaDiv = document.createElement('div');
                ideaDiv.classList.add('draggable-item', 'bg-yellow-100', 'hover:bg-yellow-200', 'p-3', 'rounded-md', 'text-gray-800', 'text-sm', 'font-medium', 'border', 'border-yellow-300', 'text-center');
                ideaDiv.setAttribute('draggable', true);
                ideaDiv.dataset.id = item.id;
                ideaDiv.dataset.matched = 'false';
                ideaDiv.textContent = item.idea;
                
                // Adicionar listeners ao Item Arrasta√°vel
                ideaDiv.addEventListener('dragstart', handleDragStart);
                ideaDiv.addEventListener('dragend', handleDragEnd);

                ideas.appendChild(ideaDiv);
            });
        }

        function checkAnswers() {
            let message;
            if (correctMatches === totalItems) {
                message = `üéâ Parab√©ns! Voc√™ acertou todas as ${totalItems} correspond√™ncias!`;
                document.getElementById('result-message').classList.remove('text-red-600', 'text-blue-600');
                document.getElementById('result-message').classList.add('text-green-600');
            } else {
                message = `üßê Voc√™ acertou ${correctMatches} de ${totalItems}. Continue tentando!`;
                document.getElementById('result-message').classList.remove('text-green-600', 'text-blue-600');
                document.getElementById('result-message').classList.add('text-red-600');
            }
            document.getElementById('result-message').textContent = message;
        }

        function resetGame() {
            // A maneira mais simples de limpar e recriar, removendo listeners
            const ideasColumn = document.getElementById('ideas-column');
            const authorsColumn = document.getElementById('author-column');
            
            // Limpa o conte√∫do e os listeners antigos
            while (ideasColumn.firstChild) ideasColumn.removeChild(ideasColumn.firstChild);
            while (authorsColumn.firstChild) authorsColumn.removeChild(authorsColumn.firstChild);

            setupGame();
        }

        // Inicializa o jogo ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', setupGame);

    </script>
</body>
</html>